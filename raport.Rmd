---
title: "Analiza Danych - projekt"
author: "Maja Kowalska, Ewa Zacharewicz, Kinga Posłuszny"
date: "`r Sys.Date()`"
output:
  rmdformats::downcute:
    self_contained: true
    default_style: "light"
    downcute_theme: "default"
---

```{r setup, include=FALSE}
## Global options
knitr::opts_chunk$set(cache = TRUE)
library(tidyverse)
library(naniar)
library(VIM)
library(validate)
library(validatetools)
library(dcmodify)
library(errorlocate)
lifestyle <- read_csv("dane/Final_data.csv")
```

# Wstęp

Niniejszy projekt ma na celu przeprowadzenie kompleksowej analizy wielowymiarowego zbioru danych, który łączy kluczowe wskaźniki biometryczne, szczegółowe metryki aktywności fizycznej oraz dogłębne informacje dotyczące nawyków żywieniowych. W erze cyfrowej, gdzie dane o zdrowiu i stylu życia stają się coraz bardziej zintegrowane, możliwość holistycznego badania wzajemnych zależności między dietą, treningiem a fizjologią jest kluczowa dla zrozumienia mechanizmów kształtujących ogólny stan zdrowia i kondycję.



## Pytania badawcze

1. Jak Typ treningu i Czas trwania sesji wpływają łącznie na liczbęS palonych kalorii?

2. Czy istnieje związek między Typem diety a Procentem tkanki tłuszczowej lub BMI uczestników?

3. W jakim stopniu Poziom doświadczenia uczestnika koreluje z jego Tętnem spoczynkowym oraz Średnim tętnem podczas treningu?

4. Jaka jest zależność między Częstotliwością treningów a Spalonymi kaloriami, kontrolując zmienne demograficzne, takie jak Wiek i Płeć?

5. W jaki sposób Metoda gotowania i Czas przygotowania wpływają na to, czy posiłek jest oznaczony jako Zdrowy?

6. Czy istnieje korelacja między Spożyciem wody a Czasem trwania sesji lub Częstotliwością treningów?

7. Jak Docelowa grupa mięśniowa i Poziom trudności ćwiczenia wpływają na szacunkową liczbę Spalonych kalorii na 30 min?

8. Czy dzienne spożycie makroskładników (Carbs, Proteins, Fats) różni się znacząco w zależności od Typu treningu najczęściej wybieranego przez uczestnika?

9. Jak zawartość Cukru, Sodu i Cholesterolu w posiłkach różni się między różnymi Typami diet?

10. Czy Wiek i Płeć uczestników mają związek z wyborem Typu treningu lub Poziomem trudności ćwiczeń?



# Opis danych

Zbiór danych zawiera `r nrow(lifestyle`) obserwacji i `r ncol(lifestyle)` zmiennych.

Poniżej znadjuje się opis najważniejszych zmiennych:
- `Wiek`: wiek uczestnika w latach.
- `Płeć`: płeć uczestnika (Mężczyzna/Kobieta).
- `BMI`: wskaźnik masy ciała uczestnika.
- `Procent tkanki tłuszczowej`: procentowa zawartość tkanki tłucszczowej w organizmie uczestnika.
- `Typ treningu`: kategoria treningu wykonywanego przez uczestnika (np. siłowy, cardio, mieszany).
- `Czas trwania sesji`: czas trwania jednej sesji treningowej w minut
- `Liczba spalonych kalorii`: liczba kalorii spalonych podczas jednej sesji treningowej.
- `Typ diety`: kategoria diety stosowanej przez uczestnika (np. wegetariańska, niskowęglowodanowa, wysokobiałkowa).
- `Poziom doświadczenia`: poziom zaawansowania uczestnika w treningach (np. początkujący, średniozaawansowany, zaawansowany).
- `Tętno spoczynkowe`: tętno uczestnika w stanie spoczynku.
- `Średnie tętno podczas treningu`: średnie tętno uczestnika podczas sesji treningowej.
- `Częstotliwość treningów`: liczba treningów wykonywanych przez uczestnika w tygodniu.
- `Metoda gotowania`: sposób przygotowania posiłków (np. gotowanie, smażenie, pieczenie).
- `Czas przygotowania`: czas potrzebny na przygotowanie posiłku w minutach
- `Zdrowy posiłek`: wskaźnik, czy posiłek jest uważany za zdrowy (Tak/Nie).
- `Spożycie wody`: ilość wody spożywanej przez uczestnika dziennie w litrach

# 2. Porządkowanie i czyszczenie danych

# 2.1 Braki danych



```{r}
procent <- prop_complete_var(lifestyle)*100
```

W danych znajduje się `r procent` % kompletnych wartości

```{r}
VIM::aggr(lifestyle, col=c('navyblue','red'), numbers=TRUE, sortVars=TRUE, labels=names(lifestyle), cex.axis=.7, gap=3, ylab=c("Procent braków danych","Wzorzec braków danych"))
```
## walidacja danych

**Definicja**

```{r}
rules <- validator(
  Age >= 18,
  BMI >= 10 & BMI <= 50,
  `Fat_Percentage` >= 5 & `Fat_Percentage` <= 60,
  `Session_Duration` > 0,
  `Calories_Burned` >= 0,
  `Resting_BPM` >= 40 & `Resting_BPM` <= 120)
```

cf <- confront(lifestyle, rules)
summary(cf)
barplot(cf)

